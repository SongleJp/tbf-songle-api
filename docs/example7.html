<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="telephone=no" name="format-detection"><meta content="width=device-width, initial-scale=1.0" name="viewport"><meta content="Songle 外部埋め込みプレイヤーの表示" name="application-name"><meta content="Songle APIではじめる音楽情報処理ウェブプログラミング入門本のサンプルプログラムです。" name="description"><title> 多言語音楽プレイヤーの実装 </title><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"><script>window.onSongleAPIReady=function(e){var t=["De","En","Ja","Ko","Ru","Zh"],n={De:{mediaSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4",options:{altSourceUrl:"https://www.youtube.com/watch?v=Az2X1QG8F4g"},offset:-400},En:{mediaSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4",options:{altSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4"},offset:0},Ja:{mediaSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4",options:{altSourceUrl:"https://www.youtube.com/watch?v=ZK__ex6-YA8"},offset:-800},Ko:{mediaSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4",options:{altSourceUrl:"https://www.youtube.com/watch?v=11FJrfYe6eU"},offset:-500},Ru:{mediaSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4",options:{altSourceUrl:"https://www.youtube.com/watch?v=nTjI3H0-Dj8"},offset:-600},Zh:{mediaSourceUrl:"https://www.youtube.com/watch?v=Egn_VNVKzI4",options:{altSourceUrl:"https://www.youtube.com/watch?v=4z1N9XwHJbE"},offset:300}},o=new e.Player({mediaElement:"#media"});o.addPlugin(new e.Plugin.Chorus),o.addPlugin(new e.Plugin.SongleWidget({element:"#songle-widget",showController:!1})),o.cacheMedia([n.De,n.En,n.Ja,n.Ko,n.Ru,n.Zh]).then(function(){document.querySelector("#step0").style.display="none",document.querySelector("#step1").style.display="block"}),document.querySelector("#de").addEventListener("click",function(){return r("De")}),document.querySelector("#en").addEventListener("click",function(){return r("En")}),document.querySelector("#ja").addEventListener("click",function(){return r("Ja")}),document.querySelector("#ko").addEventListener("click",function(){return r("Ko")}),document.querySelector("#ru").addEventListener("click",function(){return r("Ru")}),document.querySelector("#zh").addEventListener("click",function(){return r("Zh")});var c="En",u=!1,r=function(e){if(!u){u=!0,setTimeout(function(){u=!1},1e3);var t=o.positionTime-n[c].offset;o.mediaCaches.forEach(function(e){e.muted=!0}),o.useMedia(n[e]).then(function(){o.play(),o.seekTo(n[e].offset+t),o.muted=!1,c=e})}};document.querySelector("#activate").addEventListener("click",function(){Promise.all(o.mediaCaches.map(function(e){return e.muted=!0,e.activate()})).then(function(){document.querySelector("#step1").style.display="none",document.querySelector("#step2").style.display="block",r("En")})}),o.on("repeatedSectionEnter",function(){"De"===c&&r(t[parseInt(Math.random()*t.length)])},{offset:n.De.offset}),o.on("repeatedSectionEnter",function(){"En"===c&&r(t[parseInt(Math.random()*t.length)])},{offset:n.En.offset}),o.on("repeatedSectionEnter",function(){"Ja"===c&&r(t[parseInt(Math.random()*t.length)])},{offset:n.Ja.offset}),o.on("repeatedSectionEnter",function(){"Ko"===c&&r(t[parseInt(Math.random()*t.length)])},{offset:n.Ko.offset}),o.on("repeatedSectionEnter",function(){"Ru"===c&&r(t[parseInt(Math.random()*t.length)])},{offset:n.Ru.offset}),o.on("repeatedSectionEnter",function(){"Zh"===c&&r(t[parseInt(Math.random()*t.length)])},{offset:n.Zh.offset})};</script><script src="https://api.songle.jp/v2/api.js"></script></head><body> <div id="app"></div> <script src="/tbf-songle-api/index.js"></script> <div style="position:absolute;left:5px;bottom:5px;"> <div id="media"></div> <div id="songle-widget"></div> </div> <div class="ui container"> <div id="step0"> <h2>楽曲を読み込んでいます</h2> </div> <div id="step1" style="display:none;"> <h2>楽曲の再生してください</h2> <div class="ui button" id="activate"> 再生を開始する </div> </div> <div id="step2" style="display:none;"> <div class="ui button" id="de"> ドイツ語 (Germany) </div> <div class="ui button" id="en"> 英語 (English) </div> <div class="ui button" id="ja"> 日本語 (Japanese) </div> <div class="ui button" id="ko"> 韓国語 (Korean) </div> <div class="ui button" id="ru"> ロシア語 (Russian) </div> <div class="ui button" id="zh"> 中国語 (Chinese) </div> </div> </div> </body></html>